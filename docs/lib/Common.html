<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="../styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="../bin/Metacalls.html">bin/Metacalls</a></li></li><li><li><a href="../lib/Common.html">lib/Common</a></li></li><li><li><a href="../lib/IcManagement.html">lib/IcManagement</a></li></li><li><li><a href="../lib/Metacalls.html">lib/Metacalls</a></li></li><li><li><a href="../lib/State.html">lib/State</a></li></li><li><li><a href="../lib/Types.html">lib/Types</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.PIdentity">PIdentity</a></li></li><li><li><a href="#type.MessageStatus">MessageStatus</a></li></li><li><li><a href="#type.HttpHeader">HttpHeader</a></li></li><li><li><a href="#type.HttpMethod">HttpMethod</a></li></li><li><li><a href="#type.TransformContext">TransformContext</a></li></li><li><li><a href="#type.CanisterHttpRequestArgs">CanisterHttpRequestArgs</a></li></li><li><li><a href="#type.CanisterHttpResponsePayload">CanisterHttpResponsePayload</a></li></li><li><li><a href="#type.TransformArgs">TransformArgs</a></li></li><li><li><a href="#type.Message">Message</a></li></li><li><li><a href="#type.MessageImmutable">MessageImmutable</a></li></li></ul></nav><div class="documentation"><h1>lib/Common</h1><p>Common definitions for the library.</p>
<p>As a library user, you should rarely have to interact with this module directly.</p>
<div class="declaration"><h4 class="type-declaration" id="type.PIdentity"><span class="keyword">type </span><span class="type">PIdentity</span> = { key_name : <span class="type">Text</span>; creation_ts : <a href="#type.Time"><span class="type">Time</span></a>; public_key : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.MessageStatus"><span class="keyword">type </span><span class="type">MessageStatus</span> = {#Created; #Signed; #Sent}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpHeader"><span class="keyword">type </span><span class="type">HttpHeader</span> = { name : <span class="type">Text</span>; value : <span class="type">Text</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpMethod"><span class="keyword">type </span><span class="type">HttpMethod</span> = {#get; #post; #head}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.TransformContext"><span class="keyword">type </span><span class="type">TransformContext</span> = { function : <span class="keyword">shared query </span><a href="#type.TransformArgs"><span class="type">TransformArgs</span></a> -&gt; <span class="keyword">async </span><a href="#type.CanisterHttpResponsePayload"><span class="type">CanisterHttpResponsePayload</span></a>; context : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CanisterHttpRequestArgs"><span class="keyword">type </span><span class="type">CanisterHttpRequestArgs</span> = { url : <span class="type">Text</span>; max_response_bytes : ?<span class="type">Nat64</span>; headers : [<a href="#type.HttpHeader"><span class="type">HttpHeader</span></a>]; body : ?[<span class="type">Nat8</span>]; method : <a href="#type.HttpMethod"><span class="type">HttpMethod</span></a>; transform : ?<a href="#type.TransformContext"><span class="type">TransformContext</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CanisterHttpResponsePayload"><span class="keyword">type </span><span class="type">CanisterHttpResponsePayload</span> = { status : <span class="type">Nat</span>; headers : [<a href="#type.HttpHeader"><span class="type">HttpHeader</span></a>]; body : [<span class="type">Nat8</span>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.TransformArgs"><span class="keyword">type </span><span class="type">TransformArgs</span> = { response : <a href="#type.CanisterHttpResponsePayload"><span class="type">CanisterHttpResponsePayload</span></a>; context : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Message"><span class="keyword">type </span><span class="type">Message</span> = { uuid : <a href="#type.UUID"><span class="type">UUID</span></a>; creation_ts : <a href="#type.Time"><span class="type">Time</span></a>; original_message : <span class="type">Text</span>; hashed_message : [<span class="type">Nat8</span>]; <span class="keyword">var </span>last_updated_ts : <a href="#type.Time"><span class="type">Time</span></a>; <span class="keyword">var </span>signed_message : ?<span class="type">Blob</span>; <span class="keyword">var </span>signed_by : ?<span class="type">Text</span>; <span class="keyword">var </span>status : <a href="#type.MessageStatus"><span class="type">MessageStatus</span></a>; <span class="keyword">var </span>response : ?<a href="#type.CanisterHttpResponsePayload"><span class="type">CanisterHttpResponsePayload</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.MessageImmutable"><span class="keyword">type </span><span class="type">MessageImmutable</span> = { uuid : <a href="#type.UUID"><span class="type">UUID</span></a>; creation_ts : <a href="#type.Time"><span class="type">Time</span></a>; original_message : <span class="type">Text</span>; hashed_message : [<span class="type">Nat8</span>]; last_updated_ts : <a href="#type.Time"><span class="type">Time</span></a>; signed_message : ?<span class="type">Blob</span>; signed_by : ?<span class="type">Text</span>; status : <a href="#type.MessageStatus"><span class="type">MessageStatus</span></a>; response : ?<a href="#type.CanisterHttpResponsePayload"><span class="type">CanisterHttpResponsePayload</span></a> }</h4><p></p></div></div></body></html>